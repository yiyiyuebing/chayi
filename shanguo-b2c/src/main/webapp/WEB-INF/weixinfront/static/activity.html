<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<meta name="format-detection" content="telephone = no" />
		<title></title>
		<link href="css/swiper.min.css" rel="stylesheet" />
		<style>
			html {
				font-size: 16px;
			}
			
			body {
				margin: 0px;
				padding: 0px;
			}
			
			h1,
			h2,
			h3,
			h4,
			h5 {
				padding: 5px;
				margin: 0px;
				font-weight: normal;
			}
			
			a {
				text-decoration: none;
			}
			
			.fl {
				float: left;
			}
			
			.fr {
				float: right;
			}
			
			img {
				max-width: 100%;
			}
			
			#title {
				text-align: center;
			}
			
			#sub-title {
				padding: 0px 30px;
			}
			
			.clearfix:after {
				content: '';
				display: block;
				clear: both;
			}
			
			.container {
				line-height: 28px;
			}
			
			video {
				margin: 10px auto;
				width: 100%;
				height: 240px;
			}
			
			.banner-swiper-container {
				height: 12rem;
			}
			
			.swiper-slide {
				height: 100%;
			}
			
			.swiper-slide img {
				height: 100%;
				width: 100%;
				;
			}
			
			.swiper-container-horizontal>.swiper-pagination-bullets,
			.swiper-pagination-custom,
			.swiper-pagination-fraction {
				bottom: 10px;
			}
			
			.swiper-pagination-bullet {
				background: #FFFFFF;
				opacity: 1;
			}
			
			.swiper-pagination-bullet-active {
				width: 15px;
				border-radius: 4px;
			}
			
			.color-primary {
				color: #ce9f51;
			}
			
			.wrapper {
				border-bottom: 6px solid #f5f5f5;
			}
			
			.wrapper h4,
			.wrapper .row,
			.wrapper .row-group {
				padding-left: 15px;
				padding-right: 15px;
			}
			
			.wrapper h4 {
				line-height: 36px;
				border-bottom: 1px solid #f5f5f5;
			}
			
			h4.title {
				line-height: 20px;
				;
			}
			
			.wrapper .row {
				border-bottom: 1px solid #f5f5f5;
				line-height: 40px;
			}
			
			.color-gray {
				color: #787878;
			}
			
			.small {
				font-size: 0.9rem;
			}
			
			.intro {
				padding: 8px 15px;
				line-height: 26px;
				font-size: 0.9rem;
			}
			
			.row-group {
				line-height: 40px;
			}
			
			.row-group:after {
				content: '';
				display: block;
				clear: both;
			}
			
			.comment-item {
				position: relative;
				padding: 20px 80px 5px 70px;
				border-bottom: 1px solid #f5f5f5;
			}
			
			.comment-item .avatar {
				width: 40px;
				height: 40px;
				position: absolute;
				left: 15px;
				top: 10px;
			}
			
			.comment-item .avatar img {
				width: 100%;
				height: 100%;
				-webkit-border-radius: 50%;
				-moz-border-radius: 50%;
				border-radius: 50%;
			}
			
			.comment-item .date {
				position: absolute;
				right: 15px;
				top: 5px;
				font-size: 12px;
			}
			
			.comment-item p {
				margin: 0px;
				padding: 0px;
				line-height: 23px;
				font-size: 0.8rem;
			}
			
			.icon {
				width: 20px;
				height: 20px;
				margin-top: 10px;
				float: left;
				margin-right: 8px;
				background-size: 100% 100%;
				background-repeat: no-repeat;
				background-position: center center;
				display: inline-block;
			}
			
			.icon-tags {
				background-image: url(img/icon-tags.png);
			}
			
			.icon-position {
				background-image: url(img/icon-position.png);
			}
			
			.icon-clock {
				background-image: url(img/icon-clock.png);
			}
			
			.icon-like {
				background-image: url(img/icon-like.png);
			}
			
			.toggle-btn {
				padding: 5px 15px 15px;
			}
			
			.clamp {
				height: 60px;
				;
				overflow: hidden;
				text-overflow: ellipsis;
				display: -webkit-box;
				-webkit-line-clamp: 3;
				-webkit-box-orient: vertical;
			}
			
			.ac-d {
				width: 100%;
				height: 40px;
				padding: 6px 10px;
				box-sizing: border-box;
				z-index: 10;
				position: absolute;
				bottom: 0;
			}
			
			.ac-te {
				width: 65%;
				padding-left: 10px;
				border: none;
				outline: none;
				height: 25px;
				margin-right: 10px;
				border: 1px solid silver;
			}
			
			.ac-bu {
				border: none;
				height: 27px;
				width: 25%;
				border-radius: 5px;
				background-color: #ff6e82;
				color: white;
			}
		</style>
	</head>

	<body>
		<div id="container" style="display:none;">

			<div class="swiper-container  banner-swiper-container" v-if="activity.image&&activity.image.length>0">

				<div class="swiper-wrapper">
					<div v-for="img in activity.image" class="swiper-slide"><img :src="img.picUrl" /></div>
				</div>
				<div class="swiper-pagination"></div>
			</div>
			<div class="wrapper">
				<h4 class="title">{{activity.title}}</h4>
				<div class="row clearfix">
					<div class="color-gray small fl">
						报名截止时间：{{activity.regEndTime}}
					</div>
					<div class="fr color-primary small">
						<i class="icon icon-like"></i>{{activity.pointNum}}
					</div>
				</div>
				<div class="row"><i class="icon icon-position"></i>{{activity.activityAddress}}</div>
				<div class="row"><i class="icon icon-clock"></i>{{activity.beginTime}}-{{activity.endTime}}</div>
				<div class="row last-row"><i class="icon icon-tags"></i>{{activity.activityTypeName}}</div>
			</div>
			<div class="wrapper">
				<h4>活动介绍</h4>
				<div v-bind:class="{intro:true, clamp:toggleValue}" v-html="activity.content"></div>
				<div class="toggle-btn">
					<a class="color-primary" href="javascript:;" v-on:click="toggleValue = !toggleValue">{{toggleValue?'展开':'收起'}}</a>
				</div>
			</div>

			<div class="wrapper">
				<div class="row-group">
					<label>主办方</label>
					<div class="fr color-gray">{{activity.sponsorName}}</div>
				</div>
				<div class="row-group">
					<label>联系方式</label>
					<div class="fr color-gray">{{activity.sponsorTel}}</div>
				</div>

			</div>
			<div class="wrapper">
				<div class="row-group">
					<label>报名人数</label>
					<div class="fr color-gray">{{activity.participation}}</div>
				</div>
			</div>
			<div class="wrapper" v-if="comments && comments.length > 0">
				<h4>评论</h4>
				<div class="comment-list">
					<div v-for="comment in comments" class="comment-item">
						<div class="avatar">
							<img :src="comment.headimgurl" />
						</div>
						<div class="cmmt-main">
							<div>{{comment.nickname}}</div>
							<p>{{comment.content}}</p>
						</div>
						<div class="color-gray date">{{comment.createTime}}</div>
					</div>
				</div>
			</div>
			<div class="ac-d">
				<input class="ac-te" type="text" name="" id="" placeholder="请输入手机号" />
				<input class="ac-bu" type="button" name="" id="" value="报名参加" />
			</div>
		</div>

		<script src="js/jquery-1.8.2.min.js"></script>
		<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
		<script src="js/main.a.js"></script>
		<script src="js/vue.js"></script>
		<script src="lib/swiper/swiper.min.js"></script>
		<script>
			$(function() {
				Util.weixinMenu.share(sessionStorage.getItem('shopImg'), sessionStorage.getItem('shopName'), 'index');
			});

			var id = Util.common.getParameter("id");

			var activityCtl = new Vue({
				el: "#container",
				data: {
					activity: "",
					comments: "",
					toggleValue: true
				},
				methods: {
					onload: function() {
						var _this = this;
						$.ajax({
							type: 'GET',
							url: Util.common.baseUrl + '/event/eventActivity/mobile/findEventActivityByIdForMobile.do?id=' + id,
							success: function(response) {
								_this.activity = response;
								_this.$nextTick(function() {
									var mySwiper = new Swiper('.swiper-container', {
										loop: true,
										pagination: '.swiper-pagination'
									});
								});
								$("#container").show();
							}
						});

						$.ajax({
							type: 'POST',
							url: Util.common.baseUrl + '/event/eventActivityComment/mobile/eventActivityCommentPage.do?conditionStr=%7B%22eventActivityId%22:%22' + id + '%22%7D&limit=6&start=0',
							success: function(response) {
								_this.comments = response.resultList;
							}
						});
					}
				}
			});
			activityCtl.onload();
		</script>
	</body>

</html>